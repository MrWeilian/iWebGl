# 2. 图形学的数学基础

上一小节我们初步接触了图形的二维变换，实现了三角形的平移、缩放、旋转。但不知道大家有没有发现，每实现一种图形变换我们都需要**重新实现一次对应的顶点着色器**，简单来说就是 **`gl_Position` 的赋值等式都在变化**，一时加、一时乘、一时三角函数公式...

其实这一切不同的计算等式，我们都可以借助 **矩阵** 来帮我们进行简化！那矩阵是什么呢？怎么用，怎么简化我们的着色器代码呢？好，带着这些疑问，这一节我们暂时放下 WebGL 的学习，先来补一补在图形学当中也非常重要的一些数学基础知识——矢量、矩阵。

> 当然本文的内容比较干...可能会让大家觉得枯燥和难理解。如果是这样，那么我建议大家可以**结合下一小节的内容**进行学习，或者直接学习下一小节的内容，碰到相关的数学知识再返回本文进行补充学习。

## 认识矢量

在 [维基百科](https://zh.wikipedia.org/wiki/%E5%90%91%E9%87%8F) 中是这么介绍矢量的：

> 向量（英语：vector），物理、工程等也称作**矢量** 、欧几里得向量（Euclidean vector），是数学、物理学和工程科学等多个自然科学中的基本概念。指一个**同时具有大小和方向**，且满足平行四边形法则的几何对象。

对于概念这东西，大致了解就好，我们更主要的是知道怎么把矢量应用到开发工作中，并且要了解关于矢量的一些运算法则～

### 矢量在 WebGL 中的应用

说到这一点，我们并不陌生。回顾之前在编写着色器代码时用过的 `gl_Position`、`gl_FragColor` 等，他们都是 `vec4` 类型的内置变量。这里回顾一下 `vec4` 类型，它表示由 `4` 个浮点数组成的**矢量**！（忘了的赶紧回到 [第二章-顶点着色器](/content/二、WebGL基础/2.%20WebGL绘制点.html#_1-顶点着色器) 温习一下）

这个矢量对于 `gl_Position` 来说，它代表了三维空间中的坐标点的信息；对于 `gl_FragColor` 来说它代表了颜色的 `RGBA` 值。

对于坐标、或者颜色等这类的矢量值，我们在 GLSL 中可以通过 **点操作符 `.` 配合 `key` 值来访问到对应分量的值**。这一点之前没有正式介绍过，不过有看过一些示例程序代码的你可能早就已经发现了！比如在讲锯齿消除实战的文章中有用到 `gl_FragCoord.x` 来获取片元着色器中当前片元的 `x` 值；上一小节实战三角形旋转的时候也通过 `a_Position.x` 来获取对应的顶点坐标值。

讲到这里，你已经对 WebGL 中矢量的应用有一定的了解了，那接下来我们就开始了解一些关于**矢量的运算法则**，毕竟这个在我们以后的开发过程中是会经常碰到的！就好比上一节中实战的三角形平移，就用到了**矢量之间的加法运算**；实战三角形缩放，就用到了**矢量和标量的乘积**......

### 1. 矢量加减法