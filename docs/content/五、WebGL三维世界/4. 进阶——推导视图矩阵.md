# 4. 进阶——推导视图矩阵

上一节我们初步了解了相机和视图矩阵，并且通过 `three.js` 的 `lookAt` 方法实战感受了通过相机观测图形的效果，get 到了变换相机位置观测图形和变换图形自身是一个反方向但变换是等价的效果。那么这一节，我跟大家一起来推导一下视图矩阵，以加深对相机这个概念的理解！


## 推导视图矩阵

视图矩阵的作用我们上一节大概就领略过了，并且通过它可以实现 3D 场景中的图形做**等价的逆变换**，比如说上一节中的实战示例程序中的立方体是向相机的反方向旋转。

上一节讲视图矩阵的时候也有提到平移、旋转矩阵，并且我们可以把平移、旋转等变换通过矩阵相乘的方式以**模型矩阵**的方式去承载，也就是用模型矩阵来表示复合变换。这个时候又冒出个视图矩阵不禁让人有点难以理解，所以我想在这里讲清楚一点各种矩阵之间的关系。

平移、旋转、模型矩阵等都是**作用于场景中的物体**（也就是观测目标），而视图矩阵是**作用于相机**。比如你在场景中有一个车库，你需要拍几张照片来对外宣传。为了装X，你把比较贵的车开到了最外面（相当于对场景中的物体做了变换操作）；为了拍出来的效果够震撼，你又特地站到了车库的45度位置进行拍摄（相当于给相机做了变换），最后拍出一张牛逼的照片。

![4.1](../../public/images/fifth/4.1.png)

:::demo
fifth/3_2
:::