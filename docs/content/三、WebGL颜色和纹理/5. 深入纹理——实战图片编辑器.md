# 5. 深入纹理——实战图片编辑器

经过上一小节的学习，我们已经成功的实现了第一张纹理图像！但相信大家都意犹未尽，毕竟我们只是初步的探索了纹理图像的实现，其中还有很多的 `api` 、 参数都没~~深入探讨~~使用过～那么，本文就把他通通都过一遍，顺便再实战个图片编辑器来加深理解。


## 图片放大缩小

首先我们先来个简单一点的，就是实现图片的放大和缩小。

:::demo
third/5_1
:::

## 解惑 `TEXTURE_MIN_FILTER` 

相信关于这两个 `TEXTURE_MIN_FILTER`、`TEXTURE_MAG_FILTER` 参数的配置尝试最容易让初学者产生困惑（因为我就是这样）。我是想通过差异化配置，单独看看他们带来的不同效果，**所以当我期望看看 `TEXTURE_MAG_FILTER` 的效果时我会不配置 `TEXTURE_MIN_FILTER`，但这个时候画布会突然变成一抹黑**...

也就是这个问题，一开始还挺困扰我的，所以我觉得有必要单独讲一讲，也算是给遇到这样问题的大家解解惑，节省一下代码问题排查的时间。然后我也在 [stack overflow](https://stackoverflow.com/questions/12363463/when-should-i-set-gl-texture-min-filter-and-gl-texture-mag-filter) 中找到一个比较靠谱的问答帖子，大家可以点进去看看。

回到这个问题上来，当我们想"单独"测试 `TEXTURE_MAG_FILTER` 效果时，我们应该仔细看看 [gl.texParameteri](https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/texParameter) 文档中对 `gl.TEXTURE_MIN_FILTER` 这个参数值的讲解（MDN 拷贝回来的）：

| 参数                  | 描述                        | 参数值                                                                                                                                               |
|-----------------------|-----------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------|
| gl.TEXTURE_MIN_FILTER | Texture minification filter | gl.LINEAR, gl.NEAREST, gl.NEAREST_MIPMAP_NEAREST, gl.LINEAR_MIPMAP_NEAREST, **gl.NEAREST_MIPMAP_LINEAR (default value)**, gl.LINEAR_MIPMAP_LINEAR. |

表中我们关注加粗的那一个值即可，就是 **default value** 的字眼！这就是让我们遇到本小节这个问题的原因...当我们想"单独"看 `TEXTURE_MAG_FILTER` 效果时，我们往往选择单独配置其而不配置缩小的滤镜——`TEXTURE_MIN_FILTER`，然后我们会很自然而然地以为这就是我们期望的结果，但其实这只是我们以为的没配置 `gl.TEXTURE_MIN_FILTER` 参数值...（其实是有值的，而且是默认值——`gl.NEAREST_MIPMAP_LINEAR`） 
