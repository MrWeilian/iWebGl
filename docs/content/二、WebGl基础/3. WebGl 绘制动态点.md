# 3. WebGl绘制动态点

经过上一小节的学习，你已经掌握了如何使用 WebGl 绘制一个像素点。但是你有没有注意到，我们点的坐标是提前写好在顶点着色器中的，是一个静态的数据。那我们如何让顶点的数据变起来呢？

## 动态传递顶点坐标

我们要绘制动态点，那么就要有一个**动态获取顶点坐标的途径**，更直接地说，我们需要进行 JavaScript 和 GLSL 之间的信息交互。那我们首先来回顾一下之前的顶点着色器代码：
```js
const vertexCode = `
  void main () {
    // 顶点坐标
    gl_Position = vec4(0.0, 0.0, 0.0, 1.0);
    // 顶点渲染像素大小
    gl_PointSize = 24.0;
  }
`
```
上面实现顶点着色器代码的时候，我们是直接将内置变量 `gl_Position` 复制给了一个固定的 `vec4` 类型的值。现因我们需要绘制动态顶点，所以我们的赋值应该是需要通过变量来实现，而不是直接使用一个静态的数值。

所以，我们需要这样实现顶点着色器的代码：
```js
const vertexCode = `
  // 定义了一个名为 a_Position，类型为 vec4 的 attribute 变量
  attribute vec4 a_Position;

  void main () {
    // 将变量赋值给顶点坐标
    gl_Position = a_Position;
    // 顶点渲染像素大小
    gl_PointSize = 24.0;
  }
`
```
对比旧的代码块，我们不难发现新增了一个 `a_Position` 的变量，并且将其赋值给了内置变量 `gl_Position`。除此之外，代码中还出现了一个我们没见过的 `attribute` 的字样，那我们先来了解一下它。

GLSL 中有三种类型的变量，而 `attribute` 就是其中之一。详细介绍如下表：

| 变量类型  | 描述                                                         |
|-----------|--------------------------------------------------------------|
| attribute | 在**顶点着色器中使用**                                       |
| varying   | 在顶点着色器中定义，用于**从顶点着色器向片元着色器传递数据** |
| uniform   | 可理解为**全局变量**，在顶点着色器、片元着色器中都能够访问   |

对于以上这些变量，我们都可以在 **JavaScript 中获取到他们引用地址，并对他们设置值**。于是乎～ JavaScript 到 GLSL 之间的数据传递桥梁就被搭建起来了。
